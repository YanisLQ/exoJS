<!-- Avec fetch et https://swapi.dev/, recupérer la liste de tous les caractères, vaisseaux et planète et affichez les dans 
une liste. Vous devez utilisez des promesses, async / await & des try catch -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exo 6</title>
</head>
<body>
    
</body>
<script>

function getPeople(){
    return new Promise(async (success, failed) => {
            const response = await fetch('https://swapi.dev/api/people')
            if(response){
                let data = await response.json()
                success(data.results)
            } else {
                failed('Pas pu recuperer les données API');
            }
    })
}

function getPlanets(){
    return new Promise(async (success, failed) => {
            const response = await fetch('https://swapi.dev/api/planets')
            if(response){
                let data = await response.json()
                success(data.results)
            } else {
                failed('Pas pu recuperer les données API');
            }
    })
}


function getStarships(){
    return new Promise(async (success, failed) => {
            const response = await fetch('https://swapi.dev/api/starships/')
            if(response){
                let data = await response.json()
                success(data.results)
            } else {
                failed('Pas pu recuperer les données API');
            }
    })
}

async function main() {
    try {
        let people = await getPeople();
        let planets = await getPlanets();
        let starships = await getStarships();
        console.log(...people, ...planets, ...starships)
    } catch (e){
        console.log(e)
    }
}

main()
</script>
</html>