<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exo 3</title>
</head>
<body>
    
</body>
<script>
    function getRandomArbitrary(min, max) {
        return Math.floor(Math.random() * (max - min) + min);
      }

      let randomNumber = getRandomArbitrary(5, 15);
      console.log(randomNumber);
      for(let i = 0; i < randomNumber; i++){
        let randomColor = Math.floor(Math.random()*16777215).toString(16);
        let div = document.createElement("div");
        div.style.width = '100%';
        div.style.height = '50px';
        div.style.backgroundColor = "#" + randomColor;
        document.getElementsByTagName("body")[0].appendChild(div);
      }

      let listItems = document.querySelectorAll("div");
      let OriginColor = []; 
      for (let j=0; j<listItems.length; j++) {
        OriginColor.push(listItems[j].style.getPropertyValue("background-color"));
        listItems[j].addEventListener('click', () =>{
            onClickEvent(j, listItems[j])
        }, false);
    }

    function onClickEvent(number, element){
          if(element.style.getPropertyValue("background-color") == 'red') {
            element.style.backgroundColor = OriginColor[number];
        } else {
            element.style.backgroundColor = 'red';
        }
    }
      console.log(listItems)
</script>
</html>